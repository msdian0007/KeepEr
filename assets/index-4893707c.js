import{r as m,j as e,R as F}from"./react-76f7fb99.js";import{c as k}from"./react-dom-22628c77.js";import{A as _,B as v,a as M,M as b,b as T,F as y,I as D}from"./react-icons-13a7352a.js";import{v as L}from"./uuid-4a60fe23.js";import"./scheduler-765c72db.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))u(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&u(l)}).observe(document,{childList:!0,subtree:!0});function c(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function u(n){if(n.ep)return;n.ep=!0;const s=c(n);fetch(n.href,s)}})();const O=m.createContext({isFormOpen:!1,setIsFormOpen:()=>{},isMasterCardOpen:!1,setIsMasterCardOpen:()=>{},taskId:null,setTaskID:()=>{},notes:[],addNotes:()=>{},deleteNote:()=>{},setCompleted:()=>{},setInCompleted:()=>{}}),E=({children:r})=>{const[a,c]=m.useState(!1),[u,n]=m.useState(!1),[s,l]=m.useState(!1),[x,h]=m.useState(null),[N,g]=m.useState([]);let i=localStorage.getItem("notes"),t=JSON.parse(i);const f=d=>{let p=0;t=t==null?void 0:t.map(o=>o.id==d.id?(++p,d):o),p<=0&&t.push(d),localStorage.setItem("notes",JSON.stringify(t)),l(!s)},C=d=>{t=t.filter(p=>(p==null?void 0:p.id)!==d),localStorage.setItem("notes",JSON.stringify(t)),(t==null?void 0:t.length)<=1&&g([]),l(!s)},S=d=>{let p=t.filter(o=>(o==null?void 0:o.id)==d);p[0].isCompleted=!0,t=t==null?void 0:t.filter(o=>o.id==d?{...p[0]}:o),localStorage.setItem("notes",JSON.stringify(t)),l(!s)},I=d=>{console.log(d);let p=t.filter(o=>(o==null?void 0:o.id)==d);p[0].isCompleted=!1,t=t==null?void 0:t.filter(o=>o.id==d?{...p[0]}:o),localStorage.setItem("notes",JSON.stringify(t)),l(!s)};m.useEffect(()=>{(t==null?void 0:t.length)>0?g(t):localStorage.setItem("notes",JSON.stringify([]))},[a,s]);let j={isFormOpen:a,setIsFormOpen:c,notes:N,addNotes:f,deleteNote:C,taskId:x,setTaskID:h,isMasterCardOpen:u,setIsMasterCardOpen:n,setCompleted:S,setInCompleted:I};return e.jsx(O.Provider,{value:{...j},children:r})},w=()=>{const{setIsFormOpen:r,addNotes:a,taskId:c,notes:u,setTaskID:n}=m.useContext(O),[s,l]=m.useState({id:L(),note:"",title:"",isCompleted:!1}),x=()=>{n(null),r(!1)},h=i=>{let{name:t,value:f}=i.target;l(C=>({...C,[t]:f}))},N=()=>{let i=new Date,t=i.toLocaleDateString(),f=i.toLocaleTimeString();return{dateString:t,timeString:f}},g=i=>{i.preventDefault(),a({...s,...N()}),n(null),r(!1)};return m.useEffect(()=>{if(c){let i=u==null?void 0:u.filter(t=>t.id===c);l(...i)}},[c]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"form_container",children:e.jsxs("form",{className:"form",onSubmit:g,children:[e.jsx("input",{name:"title",type:"text",placeholder:"Title",value:s.title,onChange:h,required:!0,autoFocus:!0}),e.jsx("textarea",{name:"note",id:"",cols:"30",rows:"5",placeholder:"note",value:s.note,onChange:h,required:!0}),e.jsx("button",{className:"close_button_square",onClick:x,children:"close"}),e.jsx("button",{className:"add_button",type:"submit",children:"Add"}),e.jsx(_,{className:"close_button",onClick:x})]})})})},J=()=>{const{setIsMasterCardOpen:r,taskId:a,notes:c,setTaskID:u}=m.useContext(O),n=()=>{u(null),r(!1)};let s;return a&&(s=c.map(({id:l,note:x,title:h})=>l===a&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"master_card",children:[e.jsx("h3",{className:"title",children:h}),e.jsx("p",{className:"note",children:x}),e.jsx(_,{className:"close_button",onClick:n})]},a)}))),e.jsx(e.Fragment,{children:e.jsx("div",{className:"master_card_container",children:s})})},P=()=>{const{notes:r,deleteNote:a,setTaskID:c,setIsFormOpen:u,setIsMasterCardOpen:n,isFormOpen:s,isMasterCardOpen:l,setCompleted:x,setInCompleted:h}=m.useContext(O),N=(t,f)=>{c(f),u(!0)},g=t=>{c(t),n(!0)};let i;return(r==null?void 0:r.length)>0?i=e.jsx("div",{className:"card_container",children:r.map(({note:t,title:f,dateString:C,timeString:S,isCompleted:I,id:j})=>e.jsxs("div",{className:`${I?"task_completed":"card"}`,children:[e.jsx("span",{className:"card_title",children:f}),e.jsx("p",{className:"card_note",children:t}),e.jsx("div",{className:"complete_button",children:I?e.jsx(v,{title:"Incomplete Task",className:"check_icon",onClick:()=>h(j)}):e.jsx(M,{title:"Complete Task",className:"check_icon",onClick:()=>x(j)})}),e.jsxs("div",{className:"action_buttons",children:[!I&&e.jsx(b,{title:"Edit Task",className:"edit_icon",onClick:d=>N(d,j)}),e.jsx(T,{title:"Delete Task",className:"delete_icon",onClick:()=>a(j)})]}),e.jsxs("div",{className:"date_time_section",children:[e.jsxs("span",{children:[C,"Â "]}),e.jsx("span",{children:S})]}),e.jsx("div",{className:"view_button",children:e.jsx(y,{title:"View Task",className:"eye_icon",onClick:()=>g(j)})})]},j))}):i=e.jsx("h3",{className:"no_task_title",children:"No tasks found!"}),e.jsxs(e.Fragment,{children:[i,s&&e.jsx(w,{}),l&&e.jsx(J,{})]})},q=()=>{const{setIsFormOpen:r}=m.useContext(O);return e.jsx(e.Fragment,{children:e.jsx("div",{className:"footer_container",children:e.jsx(D,{className:"add_icon",onClick:()=>r(!0)})})})},B=({children:r,headers:a,footers:c})=>e.jsxs(e.Fragment,{children:[a,r,c]}),R=e.jsx(e.Fragment,{}),V=e.jsx(q,{}),$=()=>e.jsx(e.Fragment,{children:e.jsx(B,{headers:R,footers:V,children:e.jsx(P,{})})});function H(){return e.jsx(e.Fragment,{children:e.jsx($,{})})}k.createRoot(document.getElementById("root")).render(e.jsx(F.StrictMode,{children:e.jsx(E,{children:e.jsx(H,{})})}));
