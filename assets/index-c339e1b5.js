import{r as u,j as e,R as k}from"./react-76f7fb99.js";import{c as S}from"./react-dom-22628c77.js";import{A as F,F as v,B as M,a as D,M as b,b as y,I as T}from"./react-icons-13a7352a.js";import{v as $}from"./uuid-4a60fe23.js";import"./scheduler-765c72db.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function a(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=a(r);fetch(r.href,s)}})();const I=u.createContext({isFormOpen:!1,setIsFormOpen:()=>{},isMasterCardOpen:!1,setIsMasterCardOpen:()=>{},taskId:null,setTaskID:()=>{},notes:[],addNotes:()=>{},deleteNote:()=>{},setCompleted:()=>{},setInCompleted:()=>{}}),E=({children:n})=>{const[l,a]=u.useState(!1),[i,r]=u.useState(!1),[s,o]=u.useState(!1),[p,h]=u.useState(null),[C,g]=u.useState([]);let f=localStorage.getItem("notes"),t=JSON.parse(f);const x=c=>{let m=0;t=t==null?void 0:t.map(d=>d.id==c.id?(++m,c):d),m<=0&&t.push(c),localStorage.setItem("notes",JSON.stringify(t)),o(!s)},j=c=>{t=t.filter(m=>(m==null?void 0:m.id)!==c),localStorage.setItem("notes",JSON.stringify(t)),(t==null?void 0:t.length)<=1&&g([]),o(!s)},O=c=>{let m=t.filter(d=>(d==null?void 0:d.id)==c);m[0].isCompleted=!0,t=t==null?void 0:t.filter(d=>d.id==c?{...m[0]}:d),localStorage.setItem("notes",JSON.stringify(t)),o(!s)},_=c=>{console.log(c);let m=t.filter(d=>(d==null?void 0:d.id)==c);m[0].isCompleted=!1,t=t==null?void 0:t.filter(d=>d.id==c?{...m[0]}:d),localStorage.setItem("notes",JSON.stringify(t)),o(!s)};u.useEffect(()=>{(t==null?void 0:t.length)>0?g(t):localStorage.setItem("notes",JSON.stringify([]))},[l,s]);let N={isFormOpen:l,setIsFormOpen:a,notes:C,addNotes:x,deleteNote:j,taskId:p,setTaskID:h,isMasterCardOpen:i,setIsMasterCardOpen:r,setCompleted:O,setInCompleted:_};return e.jsx(I.Provider,{value:{...N},children:n})},L=()=>{const{setIsFormOpen:n,addNotes:l,taskId:a,notes:i,setTaskID:r}=u.useContext(I),[s,o]=u.useState({id:$(),note:"",title:"",isCompleted:!1}),p=()=>{r(null),n(!1)},h=f=>{let{name:t,value:x}=f.target;o(j=>({...j,[t]:x}))},C=()=>{let f=new Date,t=f.toDateString(),x=f.toLocaleTimeString();return{dateString:t,timeString:x}},g=f=>{f.preventDefault(),l({...s,...C()}),r(null),n(!1)};return u.useEffect(()=>{if(a){let f=i==null?void 0:i.filter(t=>t.id===a);o(...f)}},[a]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"form_container",children:e.jsxs("form",{className:"form",onSubmit:g,children:[e.jsx("input",{name:"title",type:"text",placeholder:"Title",value:s.title,onChange:h,required:!0,autoFocus:!0}),e.jsx("textarea",{name:"note",id:"",cols:"30",rows:"5",placeholder:"note",value:s.note,onChange:h,required:!0}),e.jsx("button",{className:"close_button_square",onClick:p,children:"close"}),e.jsx("button",{className:"add_button",type:"submit",children:"Add"}),e.jsx(F,{className:"close_button",onClick:p})]})})})},w=()=>{const{setIsMasterCardOpen:n,taskId:l,notes:a,setTaskID:i}=u.useContext(I),r=()=>{i(null),n(!1)};let s;return l&&(s=a.map(({id:o,note:p,title:h})=>o===l&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"master_card",children:[e.jsx("h3",{className:"title",children:h}),e.jsx("p",{className:"note",children:p}),e.jsx(F,{className:"close_button",onClick:r})]},l)}))),e.jsx(e.Fragment,{children:e.jsx("div",{className:"master_card_container",children:s})})},J=()=>({DateAndTimeModule:({dateString:n,timeString:l})=>{let a,i,r,s,o="";a=n==null?void 0:n.split(" "),r=l.split(":"),i=l.split(" ");let p=new Date;return p.toDateString()==n?o=`${r[0]}:${r[1]} ${i[1]}`:p.getDate()-1==a[2]?(s="yesterday",o=`${r[0]}:${r[1]} ${i[1]}`):p.getFullYear()==a[3]?s=`${a[1]} ${a[2]}`:s=`${a[1]} ${a[2]} ${a[3]}`,e.jsx(e.Fragment,{children:e.jsxs("div",{className:"date_time_section",children:[e.jsx("span",{children:"Edited "}),e.jsxs("span",{children:[s,"Â "]}),e.jsx("span",{children:o})]})})}}),P=()=>{const{notes:n,deleteNote:l,setTaskID:a,setIsFormOpen:i,setIsMasterCardOpen:r,isFormOpen:s,isMasterCardOpen:o,setCompleted:p,setInCompleted:h}=u.useContext(I),{DateAndTimeModule:C}=J(),g=(x,j)=>{a(j),i(!0)},f=x=>{a(x),r(!0)};let t;return(n==null?void 0:n.length)>0?t=e.jsx("div",{className:"card_container",children:n.map(({note:x,title:j,dateString:O,timeString:_,isCompleted:N,id:c})=>e.jsxs("div",{className:`${N?"task_completed_card":"card"}`,children:[e.jsx("h4",{className:"card_title",children:j}),e.jsx("p",{className:"card_note",children:x}),e.jsx(C,{dateString:O,timeString:_}),e.jsxs("div",{className:"view_button",children:[e.jsx(v,{title:"View Task",className:"eye_icon",onClick:()=>f(c)}),e.jsx("div",{className:"complete_task_button",children:N?e.jsx(M,{title:"Incomplete Task",className:"check_icon",onClick:()=>h(c)}):e.jsx(D,{title:"Complete Task",className:"check_icon",onClick:()=>p(c)})}),e.jsxs("div",{className:"action_buttons",children:[!N&&e.jsx(b,{title:"Edit Task",className:"edit_icon",onClick:m=>g(m,c)}),e.jsx(y,{title:"Delete Task",className:"delete_icon",onClick:()=>l(c)})]})]})]},c))}):t=e.jsx("h3",{className:"no_task_title",children:"No tasks found!"}),e.jsxs(e.Fragment,{children:[t,s&&e.jsx(L,{}),o&&e.jsx(w,{})]})},q=()=>{const{setIsFormOpen:n}=u.useContext(I);return e.jsx(e.Fragment,{children:e.jsx("div",{className:"footer_container",children:e.jsx(T,{className:"add_icon",onClick:()=>n(!0)})})})},A=({children:n,headers:l,footers:a})=>e.jsxs(e.Fragment,{children:[l,n,a]}),B=e.jsx(e.Fragment,{}),R=e.jsx(q,{}),V=()=>e.jsx(e.Fragment,{children:e.jsx(A,{headers:B,footers:R,children:e.jsx(P,{})})});function H(){return e.jsx(e.Fragment,{children:e.jsx(V,{})})}S.createRoot(document.getElementById("root")).render(e.jsx(k.StrictMode,{children:e.jsx(E,{children:e.jsx(H,{})})}));
